<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>London Underground Performance Data • underground</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">underground</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="underground" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#underground" class="anchor"></a>underground</h1></div>
<p><strong>Updated on 2018-02-12 with data up to 2018-01-06</strong></p>
<p>London Underground performance data is published in <a href="https://tfl.gov.uk/corporate/publications-and-reports/underground-services-performance">spreadsheets</a>. This R package makes it available in <a href="https://github.com/nacnudus/underground/tree/master/inst/extdata">csv files</a>, or in an R data frame.</p>
<p>The secret sauce is <a href="https://nacnudus.github.io/tidyxl">tidyxl</a> with a dash of <a href="https://nacnudus.github.io/unpivotr">unpivotr</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"nacnudus/underground"</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(underground)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">underground <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(metric <span class="op">==</span><span class="st"> "Train delays longer than 15 minutes"</span>,</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">         year <span class="op">==</span><span class="st"> "2017/18"</span>,</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">         <span class="kw">is.na</span>(quarter),</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">         period <span class="op">==</span><span class="st"> </span><span class="dv">9</span>,</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">         line <span class="op">!=</span><span class="st"> "All Lines"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">fill=</span> underground_colours[line]) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(line, value, fill) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(line, value, <span class="dt">fill =</span> fill)) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_bar">geom_bar</a></span>(<span class="dt">stat =</span> <span class="st">"identity"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_identity">scale_fill_identity</a></span>(<span class="st">""</span>, <span class="dt">labels =</span> underground_lines, <span class="dt">guide =</span> <span class="st">"legend"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/theme">theme</a></span>(<span class="dt">axis.text.x =</span> <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/element">element_text</a></span>(<span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">hjust =</span> <span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">xlab</a></span>(<span class="st">""</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ylab</a></span>(<span class="st">""</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"Train delays longer than 15 minutes"</span>,</a>
<a class="sourceLine" id="cb2-20" data-line-number="20">          <span class="dt">subtitle =</span> <span class="st">"Period 9 2017/18 from 12 November 2017 to 9 December 2017"</span>)</a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
</div>
<div id="control-periods" class="section level2">
<h2 class="hasAnchor">
<a href="#control-periods" class="anchor"></a>Control periods</h2>
<p>Most series are reported in ‘periods’ approximately four weeks long, used by the whole UK rail industry. Some periods are shorter or longer so that each year is covered by exactly 13 periods, beginning on the April the 1st.</p>
<p>Join the dataset <code>rail_periods</code> to resolve periods (1 to 13) to dates.</p>
</div>
<div id="metrics" class="section level2">
<h2 class="hasAnchor">
<a href="#metrics" class="anchor"></a>Metrics</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="http://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span>(underground, metric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/pull.html">pull</a></span>(metric)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt;  [1] "Scheduled kilometres"                                                                                                              </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt;  [2] "Scheduled kilometres - Peak"                                                                                                       </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt;  [3] "Scheduled kilometres - Offpeak"                                                                                                    </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;  [4] "Operated kilometres"                                                                                                               </span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;  [5] "Operated kilometres - Peak"                                                                                                        </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;  [6] "Operated kilometres - Off Peak"                                                                                                    </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;  [7] "% of Schedule Operated"                                                                                                            </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  [8] "% of Schedule Operated - Peak"                                                                                                     </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  [9] "% of Schedule Operated - Off Peak"                                                                                                 </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; [10] "% of Scheduled Kilometres (Excluding Industrial Action)"                                                                           </span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt; [11] "Timetabled kilometres"                                                                                                             </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt; [12] "% of Timetabled Kilometres"                                                                                                        </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; [13] "Scheduled Journey Time"                                                                                                            </span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; [14] "Total Journey Time"                                                                                                                </span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; [15] "Excess Journey Time"                                                                                                               </span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt; [16] "Excess Journey Time (Excl Industrial Action)"                                                                                      </span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt; [17] "Excess AEI Time"                                                                                                                   </span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt; [18] "Excess Ticket Purchase Time"                                                                                                       </span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt; [19] "Excess Platform Wait Time"                                                                                                         </span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="co">#&gt; [20] "Excess On Train Time"                                                                                                              </span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co">#&gt; [21] "Excess Station Journey Time"                                                                                                       </span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">#&gt; [22] "Excess Train Journey Time"                                                                                                         </span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="co">#&gt; [23] "Excess Planned Closures Time"                                                                                                      </span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co">#&gt; [24] "Train delays longer than 15 minutes"                                                                                               </span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="co">#&gt; [25] "Station closures"                                                                                                                  </span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">#&gt; [26] "Average Lost Customer Hours per period - all causes and all attribution parties [Network by Line]"                                 </span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">#&gt; [27] "Escalator Availability"                                                                                                            </span></a>
<a class="sourceLine" id="cb3-30" data-line-number="30"><span class="co">#&gt; [28] "Lift Availability"                                                                                                                 </span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31"><span class="co">#&gt; [29] "Rolling Stock MDBF (KM)"                                                                                                           </span></a>
<a class="sourceLine" id="cb3-32" data-line-number="32"><span class="co">#&gt; [30] "Number of Service Control failures"                                                                                                </span></a>
<a class="sourceLine" id="cb3-33" data-line-number="33"><span class="co">#&gt; [31] "Number of Track failures"                                                                                                          </span></a>
<a class="sourceLine" id="cb3-34" data-line-number="34"><span class="co">#&gt; [32] "Passenger Journeys ('000)"                                                                                                         </span></a>
<a class="sourceLine" id="cb3-35" data-line-number="35"><span class="co">#&gt; [33] "Number of Engineering overruns"                                                                                                    </span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36"><span class="co">#&gt; [34] "Asset related LCH"                                                                                                                 </span></a>
<a class="sourceLine" id="cb3-37" data-line-number="37"><span class="co">#&gt; [35] "Escalator and Lift Mean Time Between Failures (Days)"                                                                              </span></a>
<a class="sourceLine" id="cb3-38" data-line-number="38"><span class="co">#&gt; [36] "Average Lost Customer Hours per period - all causes and all attribution parties [Network by category]"                             </span></a>
<a class="sourceLine" id="cb3-39" data-line-number="39"><span class="co">#&gt; [37] "Average Lost Customer Hours per period - all causes and all attribution parties [Bakerloo line by category]"                       </span></a>
<a class="sourceLine" id="cb3-40" data-line-number="40"><span class="co">#&gt; [38] "Average Lost Customer Hours per period - all causes and all attribution parties [Central line by category]"                        </span></a>
<a class="sourceLine" id="cb3-41" data-line-number="41"><span class="co">#&gt; [39] "Average Lost Customer Hours per period - all causes and all attribution parties [Circle and Hammersmith and City line by category]"</span></a>
<a class="sourceLine" id="cb3-42" data-line-number="42"><span class="co">#&gt; [40] "Average Lost Customer Hours per period - all causes and all attribution parties [District line by category]"                       </span></a>
<a class="sourceLine" id="cb3-43" data-line-number="43"><span class="co">#&gt; [41] "Average Lost Customer Hours per period - all causes and all attribution parties [Jubilee line by category]"                        </span></a>
<a class="sourceLine" id="cb3-44" data-line-number="44"><span class="co">#&gt; [42] "Average Lost Customer Hours per period - all causes and all attribution parties [Metropolitan line by category]"                   </span></a>
<a class="sourceLine" id="cb3-45" data-line-number="45"><span class="co">#&gt; [43] "Average Lost Customer Hours per period - all causes and all attribution parties [Northern line by category]"                       </span></a>
<a class="sourceLine" id="cb3-46" data-line-number="46"><span class="co">#&gt; [44] "Average Lost Customer Hours per period - all causes and all attribution parties [Piccadilly line by category]"                     </span></a>
<a class="sourceLine" id="cb3-47" data-line-number="47"><span class="co">#&gt; [45] "Average Lost Customer Hours per period - all causes and all attribution parties [Victoria line by category]"                       </span></a>
<a class="sourceLine" id="cb3-48" data-line-number="48"><span class="co">#&gt; [46] "Average Lost Customer Hours per period - all causes and all attribution parties [Waterloo and City line by category]"              </span></a>
<a class="sourceLine" id="cb3-49" data-line-number="49"><span class="co">#&gt; [47] "CSS Overall Evaluation"                                                                                                            </span></a>
<a class="sourceLine" id="cb3-50" data-line-number="50"><span class="co">#&gt; [48] "CSS Train Service"                                                                                                                 </span></a>
<a class="sourceLine" id="cb3-51" data-line-number="51"><span class="co">#&gt; [49] "CSS Train and Station Information"                                                                                                 </span></a>
<a class="sourceLine" id="cb3-52" data-line-number="52"><span class="co">#&gt; [50] "CSS Station Staff Helpfulness and Availability"                                                                                    </span></a>
<a class="sourceLine" id="cb3-53" data-line-number="53"><span class="co">#&gt; [51] "CSS Customer Safety and Security"                                                                                                  </span></a>
<a class="sourceLine" id="cb3-54" data-line-number="54"><span class="co">#&gt; [52] "CSS Cleanliness"                                                                                                                   </span></a>
<a class="sourceLine" id="cb3-55" data-line-number="55"><span class="co">#&gt; [53] "Operated kilometres - Peak and Off Peak breakdown"</span></a></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Duncan Garmonsway <br><small class="roles"> Author, maintainer </small> </li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Duncan Garmonsway.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
